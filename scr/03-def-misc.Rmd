```{r knit-setting-for-def-misc, eval = TRUE, include=FALSE}
# eval but not show codes in this files
knitr::opts_chunk$set(eval = TRUE, include = FALSE)
```

```{r def-discard-function}
dbDiscard <- function(con, all = FALSE, plans = FALSE, temporary = TRUE) {
    if (c(all, plans, temporary) %>% any()) {
        resource <- case_when(
            all ~ "ALL",
            plans ~ "PLANS",
            temporary ~ "TEMPORARY"
        )
        "DISCARD ?rsc" %>%
            DBI::sqlInterpolate(
                con,
                .,
                rsc = resource %>% DBI::SQL()
            ) %>%
            DBI::dbExecute(con, .)
    }
    invisible(TRUE) %>% return()
}
```